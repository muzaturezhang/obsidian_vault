

**视线定义 (Line of Sight, LOS)**:

- 在时刻 t，视线是连接导弹位置 PM​(t) 和真目标上某一点 Ptarget,true​ 的**三维空间线段**

**问题转化**: 在时刻 t，判断LOS线段是否与烟幕云球体相交。


“时序扫描与状态检测”

**离散事件仿真 (Discrete-Event Simulation)**: 在仿真领域，系统状态的变化是由“事件”驱动的。我们所做的“时序扫描”可以看作是“连续时间仿真”的一种离散化逼近，我们在每个小的时间步长 `Δt` 检查是否发生了“开始遮蔽”或“结束遮蔽”的事件。


第四问：时序与路径耦合的优化问题

1. - - **遗传算法 (GA)** 或 **粒子群优化算法 (PSO)** 依然是解决此问题的最佳工具。算法的“染色体”或“粒子”就是一个8维的决策向量。算法的目标（适应度）就是通过仿真计算出的总遮蔽时长。

- **编写仿真函数**: 创建一个函数，其输入是上述定义的8个决策变量。
    
    - 函数内部，根据这8个变量，完整地模拟FY1的飞行、三次序贯投弹、三枚弹的下落、三个云团的形成与下沉，以及M1的飞行。
        
    - 使用“时序扫描与状态检测”算法，分别计算出三个云团各自的遮蔽区间列表。
        
    - 对三个区间列表进行合并，计算并集总长度。
        
    - 函数返回这个总长度。
        
- **嵌入优化器**: 将此仿真函数作为目标函数（或适应度函数），嵌入到GA或PSO算法框架中。
    
- **运行求解**: 设置算法的种群大小、迭代次数等超参数，然后运行优化。算法将自动搜索最优的8维决策变量组合。
    
- **结果输出**: 优化结束后，得到最优的决策变量Xbest​。根据Xbest​，计算出题目要求的飞行方向、速度、三个投放点坐标和三个起爆点坐标，并保存到结果文件中。